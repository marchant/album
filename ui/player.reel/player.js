var Montage=require("montage/core/core").Montage,Component=require("montage/ui/component").Component;exports.Player=Montage.create(Component,{audioTag:{value:null,serializable:!0},paused:{value:!0,serializable:!0},prepareForActivationEvents:{value:function(){this.eventManager.addEventListener("playerPlaySong",this,!1),this.eventManager.addEventListener("togglePlayPause",this,!1),this.audioTag.addEventListener("ended",this,!1)}},playSong:{value:function(e){this.audioTag.src=e,this.audioTag.load(),this.audioTag.play(),this.paused=!1,console.log("player play song",e)}},handleEnded:{value:function(){this.application.facade.playerStopped(),this.audioTag.addEventListener("ended",this,!1)}},togglePlayPause:{value:function(){this.paused?(this.audioTag.play(),this.paused=!1):(this.audioTag.pause(),this.paused=!0)}}});
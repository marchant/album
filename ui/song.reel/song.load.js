montageDefine("703617f","ui/song.reel/song",{dependencies:["montage/core/core","montage/ui/component"],factory:function(t,e){var i=t("montage/core/core").Montage,a=t("montage/ui/component").Component;e.Song=i.create(a,{_paused:{value:!0},paused:{set:function(t){this._paused=t,this.playButton.label=t?"Play":"Pause"},get:function(){return this._paused}},currentVisualizer:{value:0},visElement:{value:null},playButton:{value:null},backParameter:{value:null},visualizers:{value:["song1","song2","song3","song4","song5","song6","song10","song7","song8","song9"]},handleGoBackAction:{value:function(){this.visElement.classList.remove("on"),this.visElement.classList.remove(this.visualizers[this.currentVisualizer]),this.application.facade.switchView(this.backParameter)}},handleTogglePlayPauseAction:{value:function(){this.application.facade.player.togglePlayPause()}},handlePlayNextSongAction:{value:function(){this.visElement&&this.application.facade.playNextSong()}},handlePlayPrevSongAction:{value:function(){this.visElement&&this.application.facade.playPrevSong()}},willDraw:{value:function(){this.application.facade.iTunes&&(this.playButton.element.hidden=!0);var t=this;setTimeout(function(){t.visElement.classList.add(t.visualizers[t.currentVisualizer]),t.visElement.classList.add("on")},300)}},switchVisualizer:{value:function(){if(this.visElement){for(this.visElement.classList.remove("on"),this.visElement.classList.remove(this.visualizers[this.currentVisualizer]);this.visElement.hasChildNodes();)this.visElement.removeChild(this.visElement.lastChild);if(this.currentVisualizer+1<this.visualizers.length?this.currentVisualizer++:this.currentVisualizer=0,"song10"!=this.visualizers[this.currentVisualizer]){var t=document.createElement("div");t.classList.add("outer");var e=document.createElement("div");e.classList.add("inner"),t.appendChild(e),this.visElement.appendChild(t)}else if("song10"==this.visualizers[this.currentVisualizer]){var t=document.createElement("div");t.classList.add("outer");var e=document.createElement("div");e.classList.add("inner"),e.appendChild(document.createElement("div")),e.lastChild.appendChild(document.createElement("div")),e.lastChild.lastChild.appendChild(document.createElement("div")),t.appendChild(e),this.visElement.appendChild(t)}this.visElement.classList.add("on"),this.visElement.classList.add(this.visualizers[this.currentVisualizer])}}}})}});
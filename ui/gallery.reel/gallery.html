<!doctype html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />

        <link rel="stylesheet" type="text/css" href="gallery.css">

        <script type="text/montage-serialization">
         {

            "arraycontroller": {
                "prototype": "montage/core/range-controller",
                "properties": {
                    "selectObjectsOnAddition": true,
                    "automaticallyOrganizeObjects": true
                },
                "bindings": {
                    "content": {"<-": "@owner.application.facade.appData.gallery"}
                }
            },
            "list": {
                "prototype": "montage/ui/flow.reel",
                "properties": {
                    "element": {
                        "#": "gallery-container"
                    },
                    "contentController": {"@": "arraycontroller"},
                    "cameraPosition": [-220, 0, 350],
                    "cameraTargetPoint": [-145, 0, 0],
                    "stride": 1,
                    "cameraFov": 80,
                    "paths": [
                        {
                            "knots": [
                                {
                                    "knotPosition": [-2100, 0, -2100],
                                    "previousHandlerPosition": [-2200, 0, -2200],
                                    "nextHandlerPosition": [-2000, 0, -2000],
                                    "previousDensity": 1,
                                    "nextDensity": 1,
                                    "opacity": 0,
                                    "rotateY": 0,
                                    "rotateZ": 0
                                },
                                {
                                    "knotPosition": [-1800, 0, -1800],
                                    "previousHandlerPosition": [-1900, 0, -1900],
                                    "nextHandlerPosition": [-1700, 0, -1700],
                                    "previousDensity": 1,
                                    "nextDensity": 1,
                                    "opacity": 0.25,
                                    "rotateY": 0,
                                    "rotateZ": 0
                                },
                                {
                                    "knotPosition": [-1500, 0, -1500],
                                    "previousHandlerPosition": [-1600, 0, -1600],
                                    "nextHandlerPosition": [-1400, 0, -1400],
                                    "previousDensity": 1,
                                    "nextDensity": 1,
                                    "opacity": 0.5,
                                    "rotateY": 0,
                                    "rotateZ": 0
                                },
                                {
                                    "knotPosition": [-1200, 0, -1200],
                                    "previousHandlerPosition": [-1300, 0, -1300],
                                    "nextHandlerPosition": [-1100, 0, -1100],
                                    "previousDensity": 1,
                                    "nextDensity": 1,
                                    "opacity": 0.75,
                                    "rotateY": 0,
                                    "rotateZ": 0
                                },
                                {
                                    "knotPosition": [-900, 0, -900],
                                    "previousHandlerPosition": [-1000, 0, -1000],
                                    "nextHandlerPosition": [-800, 0, -800],
                                    "previousDensity": 1,
                                    "nextDensity": 1,
                                    "opacity": 0.999,
                                    "rotateY": 0,
                                    "rotateZ": 0
                                },
                                {
                                    "knotPosition": [-600, 0, -600],
                                    "previousHandlerPosition": [-700, 0, -700],
                                    "nextHandlerPosition": [-500, 0, -500],
                                    "previousDensity": 1,
                                    "nextDensity": 1,
                                    "opacity": 0.999,
                                    "rotateY": 0,
                                    "rotateZ": 0
                                },
                                {
                                    "knotPosition": [-300, 0, -300],
                                    "previousHandlerPosition": [-400, 0, -400],
                                    "nextHandlerPosition": [-200, 0, -200],
                                    "previousDensity": 1,
                                    "nextDensity": 1,
                                    "opacity": 0.999,
                                    "rotateY": 0,
                                    "rotateZ": 0
                                },
                                {
                                    "knotPosition": [0, 0, 0],
                                    "previousHandlerPosition": [-100, 0, -100],
                                    "nextHandlerPosition": [100, 0, 100],
                                    "previousDensity": 1,
                                    "nextDensity": 1,
                                    "opacity": 0.999,
                                    "rotateY": -0.21,
                                    "rotateZ": 0
                                },
                                {
                                    "knotPosition": [300, 60, 300],
                                    "previousHandlerPosition": [200, 40, 200],
                                    "previousDensity": 1,
                                    "nextDensity": 1,
                                    "opacity": 0,
                                    "rotateY": -0.42,
                                    "rotateZ": 0.4
                                }
                            ],
                            "headOffset": 7,
                            "tailOffset": 7,
                            "units": {
                                "opacity": "",
                                "rotateZ": "rad",
                                "rotateY": "rad"
                            }
                        }
                    ]

                }
            },
            "galleryimage": {
                "prototype": "ui/image.reel",
                "properties": {
                    "element": {"#": "gallery-image"}
                },
                "bindings": {
                    "src": {"<-": "@list:iteration.object.src"}
                }
            },
            "homebtn": {
                "prototype": "digit/ui/button.reel",
                "properties": {
                    "element": {"#": "home-btn"},
                    "identifier": "goBack"
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {"@": "owner"}
                    }
                ]
            },
            "owner": {
                "module": "ui/gallery.reel",
                "name": "Gallery",
                "properties": {
                    "element": {"#": "gallery"},
                    "flow": {"@": "list"}
                }
            }
        }
         </script>

    </head>

    <body>

        <div data-montage-id="gallery" class="gallery">
          <div class="buttons">
              <button data-montage-id="home-btn" class="home-btn">Home</button>
          </div>
          <div data-montage-id="gallery-container" class="gallery-container">
                <div data-montage-id="gallery-image" class="gallery-image"></div>
          </div>

        </div>

    </body>

</html>
